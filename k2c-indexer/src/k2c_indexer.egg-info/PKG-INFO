Metadata-Version: 2.4
Name: k2c-indexer
Version: 0.1.0
Summary: k2c indexer service for knowledge graph
Requires-Python: >=3.13
Description-Content-Type: text/markdown
Requires-Dist: fastapi>=0.115
Requires-Dist: uvicorn[standard]>=0.30
Requires-Dist: psycopg[binary]>=3.2
Requires-Dist: neo4j>=5.26
Requires-Dist: pydantic>=2.8
Requires-Dist: pydantic-settings>=2.3
Requires-Dist: openai-agents>=0.6.0

# k2c-indexer

Separate indexing service for the knowledge graph.

Entry points:
- `k2c-indexer-server`: FastAPI server to enqueue indexing jobs.
- `k2c-indexer-agent`: background worker that upserts to Neo4j.

The agent runs 5 peer agents in a group chat (max 5 rounds) to decide graph placement and can
query Neo4j before writing. It uses `OPENAI_API_KEY` (and optional `OPENAI_MODEL`).
It can also be started inside the server process by setting `INDEXER_RUN_AGENT=1`.
Each graph write should include the Postgres job id as `origin_job_id` and as a tag
(`origin:<id>`).

Configuration comes from environment variables (see root `fnox.toml`).
Infra services run via the root `docker-compose.yaml`.

HTTP tests (httpyac):
```
mise task indexer.test.http
```
